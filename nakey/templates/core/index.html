{% extends './base.html' %}
{% load staticfiles %}
{% block head %}
<link rel="stylesheet" href="{% static 'slick/slick.css'%}">
<link rel="stylesheet" href="{% static 'slick/slick-theme.css'%}">
<link rel="stylesheet" href="{% static 'css/index.css'%}">
<title>Главная страница</title>
{% endblock head %}
{% block content %}
    <div id="banner">
        {% for banner in banners %}
        <div>
            <img data-lazy="{{ banner.image.url }}" />
        </div>
        {% endfor %}
    </div>
    <section id="about">
    </section>
    <section id="popular">
        <h3>Популярные</h3>
        <div class="popular-list">
            {% for item in popular_items %}
                <div class="item cursor-pointer">
                    <div class="img" style="background-image: url({{ request.build_absolute_uri}}media/{{item.images.all.0.image }})">
                        <!-- change this to last image -->
                    </div>
                    <div class="description p-2">
                    <a href="/shop/item/{{item.id}}"><h5 class="main-black">{{item.name}}</h5></a>
                    <div class="d-flex justify-content-between">
                        <h6 class="hint-color">{{item.category.name}}</h6>
                        <span class="main-black">{{item.price}}&nbsp;&#8376;</span>
                    </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock content %}
{% block scripts %}
<script src="{% static 'slick/slick.min.js' %}"></script>
<script>
    $('#banner').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: true,
        infinite: true,
        centerMode: true,
        centerPadding: '60px',
        autoplay: true,
        autoplaySpeed: 5000,
        lazyLoad: 'ondemand',
        arrows: true,

    });
    $('.popular-list').slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        infinite: false,
        centerMode: true,
        centerPadding: '60px',
        autoplay: false,
        lazyLoad: 'ondemand',
        arrows: true,
    });
</script>
{% endblock scripts%}